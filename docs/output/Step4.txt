=== STEP 4: COMPREHENSIVE MODEL EVALUATION AND COMPARISON ===

âœ“ Dataset loaded: src/main/resources/heart_disease_cleaned.arff
âœ“ Total instances: 10000
âœ“ Total attributes: 30

=== Data Preparation ===
Class attribute: Heart Disease Status=Yes
Class attribute type: 0

=== Converting Class Attribute to Nominal ===
âœ“ Data prepared (class converted to nominal)

=== Original Data Distribution ===
Class 0 (No Heart Disease): 8000 (80.0%)
Class 1 (Has Heart Disease): 2000 (20.0%)
Ratio: 4.0:1

=== Model Training & Evaluation ===

---- MODEL 1: J48 Decision Tree (Imbalanced Data) ----
=== Building J48 Decision Tree ===
âœ“ Model built successfully!
âœ“ Build time: 5812 ms

Evaluating J48 (Imbalanced) with 10-fold cross-validation...
âœ“ Evaluation completed in 17965 ms
  Accuracy: 72.02%
  Kappa: -0.0039
  Class 1 Recall: 0.1285 (12.85%)


---- MODEL 2: J48 Decision Tree (Balanced Data) ----

=== Balancing Dataset (Resampling) ===
âœ“ Data Balanced!
  - Original Instances: 10000
  - Balanced Instances: 10000

=== Class Distribution ===
  - Class 0 (0): 5000 instances (50.00%)
  - Class 1 (1): 5000 instances (50.00%)

=== Building J48 Decision Tree (Balanced) ===
âœ“ Model built successfully!
âœ“ Build time: 1523 ms

Evaluating J48 (Balanced) with 10-fold cross-validation...
âœ“ Evaluation completed in 12122 ms
  Accuracy: 82.83%
  Kappa: 0.6566
  Class 1 Recall: 0.8800 (88.00%)


---- MODEL 3: Random Forest (Balanced Data) ----

=== Balancing Dataset (Resampling) ===
âœ“ Data Balanced!
  - Original Instances: 10000
  - Balanced Instances: 10000

=== Building Random Forest ===
âœ“ Model built successfully!
âœ“ Build time: 9791 ms

Evaluating Random Forest (Balanced) with 10-fold cross-validation...
âœ“ Evaluation completed in 94688 ms
  Accuracy: 93.59%
  Kappa: 0.8718
  Class 1 Recall: 0.9036 (90.36%)


=== COMPARATIVE ANALYSIS ===

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ACCURACY COMPARISON                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Model 1 (J48 Imbalanced):         72.02%                        â”‚
â”‚ Model 2 (J48 Balanced):           82.83%                        â”‚
â”‚ Model 3 (Random Forest):          93.59%                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CLASS 1 (DISEASE) RECALL COMPARISON - CRITICAL FOR MEDICAL USE            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Model 1 (J48 Imbalanced):         12.85%  âŒ POOR                 â”‚
â”‚ Model 2 (J48 Balanced):           88.00%  âœ… ACCEPTABLE           â”‚
â”‚ Model 3 (Random Forest):          90.36%  âœ… EXCELLENT            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ KAPPA STATISTIC (Agreement Beyond Chance)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Model 1 (J48 Imbalanced):        -0.0039  âŒ USELESS           â”‚
â”‚ Model 2 (J48 Balanced):           0.6566  âœ… FAIR             â”‚
â”‚ Model 3 (Random Forest):          0.8718  âœ… EXCELLENT        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

=== DETAILED METRICS COMPARISON TABLE ===

Metric                           | J48 Imbalanced | J48 Balanced   | Random Forest
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Accuracy                         |          72.02 |          82.83 |          93.59
Kappa Statistic                  |        -0.0039 |         0.6566 |         0.8718
Mean Absolute Error              |         0.3250 |         0.1850 |         0.2101

CLASS 0 (NO DISEASE) METRICS:
  Precision (Class 0)            |         0.7994 |         0.8662 |         0.9094
  Recall (Class 0)               |         0.8681 |         0.7766 |         0.9682
  F-Measure (Class 0)            |         0.8323 |         0.8189 |         0.9379

CLASS 1 (HAS DISEASE) METRICS:
  Precision (Class 1)            |         0.1959 |         0.7975 |         0.9660
  Recall (Class 1)               |         0.1285 |         0.8800 |         0.9036
  F-Measure (Class 1)            |         0.1552 |         0.8367 |         0.9338
  ROC Area (Class 1)             |         0.4959 |         0.8524 |         0.9705

=== KEY INSIGHTS & ANALYSIS ===

1. IMPACT OF DATA BALANCING (Model 1 vs Model 2):
   â€¢ Accuracy improved by:       10.81%
   â€¢ Class 1 Recall improved by: 75.15%
   â€¢ Kappa improved by:          0.6605
   â†’ Data balancing significantly improves J48's ability to detect disease

2. ALGORITHM DIFFERENCE (Model 2 vs Model 3):
   â€¢ Accuracy difference:       10.76%
   â€¢ Class 1 Recall difference: 2.36%
   â€¢ Kappa difference:          0.2152
   â†’ Random Forest outperforms J48 even with balanced data

3. MEDICAL PERSPECTIVE:
   Expected missed diagnoses (out of 2000 sick patients):
   â€¢ Model 1 (J48 Imbalanced):  ~1742 patients âŒ
   â€¢ Model 2 (J48 Balanced):    ~240 patients âš ï¸
   â€¢ Model 3 (Random Forest):   ~192 patients âœ…

=== FINAL RECOMMENDATION ===

ðŸ† WINNER: Random Forest (Model 3)

REASONS:
1. Highest Overall Accuracy:      93.59%
2. Excellent Disease Detection:   90.36% Recall
3. Strong Reliability (Kappa):    0.8718
4. Balanced Class Performance:    Both classes > 90% recall
5. Medical Feasibility:           Only ~192 missed diagnoses

RUNNER-UP: J48 with Balanced Data (Model 2)
â€¢ Improvement over imbalanced:  Data balancing is critical!
â€¢ Disease recall improved from 12.85% to 88.00%
â€¢ Still inferior to Random Forest for medical applications

NOT RECOMMENDED: J48 on Imbalanced Data (Model 1)
â€¢ Misses 1742 out of 2000 sick patients
â€¢ Negative Kappa: Worse than random guessing!
â€¢ Dangerous for medical use

=== STEP 4 EVALUATION COMPLETED ===
